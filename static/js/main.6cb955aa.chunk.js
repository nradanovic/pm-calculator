(this["webpackJsonppm-calculator"]=this["webpackJsonppm-calculator"]||[]).push([[0],{20:function(e,a,t){e.exports=t(48)},25:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(16),c=t.n(o),l=(t(25),t(26),t(19)),s=t(3);t(27);function i(e){var a=e.expression,t=e.position,o=Object(n.useState)(),c=Object(s.a)(o,2),i=c[0],u=c[1];function d(e,a,t){return r.a.createElement("span",{key:a,className:a===t?"positionIndicator":""},e)}return Object(n.useEffect)((function(){var e=a.split("").map((function(e,a){return d(e,a,t)})),n=d("",a.length,t);u([].concat(Object(l.a)(e),[n]))}),[a,t]),r.a.createElement("div",{className:"expressionInputField"},i)}var u,d=[{label:"<",keyboardEventCode:"ArrowLeft",value:"<"},{label:">",keyboardEventCode:"ArrowRight",value:">"},{label:"(",keyboardEventCode:"(",value:"("},{label:")",keyboardEventCode:")",value:")"},{label:"7",keyboardEventCode:"7",value:"7"},{label:"8",keyboardEventCode:"8",value:"8"},{label:"9",keyboardEventCode:"9",value:"9"},{label:"/",keyboardEventCode:"/",value:"/"},{label:"4",keyboardEventCode:"4",value:"4"},{label:"5",keyboardEventCode:"5",value:"5"},{label:"6",keyboardEventCode:"6",value:"6"},{label:"*",keyboardEventCode:"*",value:"*"},{label:"1",keyboardEventCode:"1",value:"1"},{label:"2",keyboardEventCode:"2",value:"2"},{label:"3",keyboardEventCode:"3",value:"3"},{label:"-",keyboardEventCode:"-",value:"-"},{label:"0",keyboardEventCode:"0",value:"0"},{label:".",keyboardEventCode:".",value:"."},{label:"Del",keyboardEventCode:"Backspace",value:"Del"},{label:"+",keyboardEventCode:"+",value:"+"}],v=t(2),p=function(e){return{type:"[Calculator] Move selector",payload:e}};!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(u||(u={}));var b={expression:"",position:0};var f=t(6),E=t.n(f),y=t(17),k=t(18),m=t.n(k);function h(e){var a=e.label,t=e.clickHandler;return r.a.createElement("button",{onClick:t},a)}t(46);function C(e){var a=e.keyPadKeys,t=e.clickHandler,n=a.map((function(e){return r.a.createElement(h,{key:e.label,label:e.label,clickHandler:function(){return t(e.value)}})}));return r.a.createElement("div",{className:"keypad"},n)}t(47);function x(e){var a=e.result;return r.a.createElement("div",{className:"resultDisplay"},"= ",a)}var w=function(){var e=function(){var e=Object(n.useReducer)((function(e,a){switch(a.type){case"[Calculator] Insert character":var t=function(e,a,t){if(a<0||a>e.length)return e;return e.substr(0,a)+t+e.substr(a)}(e.expression,e.position,a.payload.char);return Object(v.a)(Object(v.a)({},e),{},{expression:t,position:c(t,e.position,u.RIGHT)});case"[Calculator] Move selector":return Object(v.a)(Object(v.a)({},e),{},{position:a.payload.direction===u.LEFT?c(e.expression,e.position,u.LEFT):c(e.expression,e.position,u.RIGHT)});case"[Calculator] Delete character":return Object(v.a)(Object(v.a)({},e),{},{expression:o(e.expression,e.position),position:c(e.expression,e.position,u.LEFT)});default:return e}}),b),a=Object(s.a)(e,2),t=a[0],r=a[1];function o(e,a){return a<0||a>e.length?e:e.substr(0,a-1)+e.substr(a)}function c(e,a,t){return t===u.LEFT?Math.max(0,a-1):t===u.RIGHT?Math.min(e.length,a+1):a}return{expression:t.expression,position:t.position,dispatch:r}}(),a=e.expression,t=e.position,o=e.dispatch;!function(e){var a=e.onKeyHandler;Object(n.useEffect)((function(){var e=function(e){var t=d.find((function(a){return a.keyboardEventCode===e.key}));t&&a(t.value)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a])}({onKeyHandler:l});var c=function(e){var a=e.expression,t=Object(n.useState)(a),r=Object(s.a)(t,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){if(a){var e=function(){var e=Object(y.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mathjs.org/v4/",t={params:{expr:a}},e.prev=2,e.next=5,m.a.get("https://api.mathjs.org/v4/",t);case 5:n=e.sent,c(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c("Invalid expression");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){return e()}),600);return function(){return clearTimeout(t)}}c("")}),[a]),{result:o}}({expression:a}).result;function l(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":case"*":case"/":case".":case"(":case")":return o({type:"[Calculator] Insert character",payload:{char:e}});case"<":return o(p({direction:u.LEFT}));case">":return o(p({direction:u.RIGHT}));case"Del":return o({type:"[Calculator] Delete character"});default:return}}return r.a.createElement("div",{className:"App"},r.a.createElement("main",{className:"mainContent"},r.a.createElement(i,{expression:a,position:t}),r.a.createElement(x,{result:c}),r.a.createElement(C,{keyPadKeys:d,clickHandler:l})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.6cb955aa.chunk.js.map